### 기능 기획 문서: 아바타 및 개인 집

#### 1. 기능 개요
* **목표:** 동아리원들이 자신만의 개성을 담은 아바타를 만들고, HTML/CSS를 활용해 개인 집을 꾸며 포트폴리오로 활용할 수 있도록 한다.
* **기능:** 아바타 꾸미기, 개인 집 페이지 접근, HTML/CSS 업로드/편집, 포트폴리오용 공개 URL 생성.

#### 2. 필요 기술 스택
* **프론트엔드:**
    * **HTML/CSS/JS:** 사용자가 직접 HTML 코드를 작성하고 업로드할 수 있는 에디터 컴포넌트.
    * **렌더링:** 사용자가 업로드한 HTML을 안전하게 렌더링할 수 있는 프레임워크 또는 라이브러리.
* **백엔드:**
    * **파일 저장:** 사용자가 업로드한 HTML/CSS 파일을 저장할 서버 스토리지.
    * **API:** HTML/CSS 파일 업로드 및 조회 요청 처리.

---

#### 3. 세부 기능 목록

* **아바타 꾸미기:**
    * 기본 아바타에 머리 모양, 옷, 액세서리 등 간단한 아이템을 적용할 수 있는 UI를 제공한다.
    * 아이템은 레벨업 보상이나 워게임 클리어 보상으로 획득할 수 있도록 추후 연동.
* **개인 집 페이지:**
    * 마을 지도에 각 동아리원의 집을 배치한다.
    * 자신의 집으로 이동하거나, 다른 동아리원의 집을 방문할 수 있도록 한다.
* **HTML/CSS 업로드 및 편집:**
    * 집 내부 페이지에서 HTML/CSS 코드를 직접 입력하거나 파일을 업로드할 수 있는 에디터를 제공한다.
    * 코드를 저장하면 즉시 집 내부에 반영되어 미리보기가 가능하게 한다.
* **포트폴리오용 공개 URL:**
    * 각 개인 집 페이지에 고유한 URL을 부여하여, 동아리원들이 자신의 포트폴리오로 사용할 수 있도록 한다.
    * URL 형식: `pcode.com/houses/[username]`

---

#### 4. DB 모델링

* **`users` (사용자) 테이블 수정**:
    * 아바타 커스터마이징 정보를 저장할 필드를 추가합니다.

| 필드명 | 데이터 타입 | 설명 |
| :--- | :--- | :--- |
| `id` | `INT` | 고유 번호 |
| ... | ... | ... |
| `avatar_data` | `JSON` | 아바타 꾸미기 정보 (예: `{"hair": "...", "shirt": "..."}`) |

* **`user_houses` (개인 집) 테이블 추가**:
    * 사용자가 작성한 HTML 코드를 저장합니다.

| 필드명 | 데이터 타입 | 설명 |
| :--- | :--- | :--- |
| `id` | `INT` | 고유 번호 (Primary Key) |
| `user_id` | `INT` | 사용자 ID (Foreign Key) |
| `html_content` | `TEXT` | 사용자가 작성한 HTML 코드 |
| `css_content` | `TEXT` | 사용자가 작성한 CSS 코드 |
| `last_updated` | `TIMESTAMP` | 마지막 업데이트 시간 |

#### 5. API 설계

* `POST /api/avatar/update`: 아바타 꾸미기 정보를 저장한다.
* `POST /api/house/save`: 사용자의 HTML/CSS 코드를 저장한다.
* `GET /api/house/:username`: 특정 사용자의 집 페이지에 필요한 HTML/CSS 코드를 불러온다.
