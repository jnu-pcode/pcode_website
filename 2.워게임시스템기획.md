### 기능 기획 문서: 워게임 시스템

#### 1. 기능 개요
* **목표:** 동아리원들이 실제 해킹 문제를 풀 수 있는 실습 환경을 제공한다.
* **기능:** 문제 목록 조회, 문제 시작(Docker 컨테이너 생성), 정답(Flag) 제출 및 검증.

#### 2. 필요 기술 스택
* **백엔드:** Docker 컨테이너를 관리하고 API 요청을 처리할 서버 로직. Docker SDK 또는 API 사용.
* **프론트엔드:** 워게임 목록을 보여주고, 버튼 클릭으로 API를 호출하는 UI.
* **데이터베이스:** 문제 정보 및 사용자의 문제 해결 기록 저장.

---

#### 3. 세부 기능 목록

* **문제 목록 조회:**
    * 워게임 장소에 접근하면 풀 수 있는 문제 목록을 보여준다.
    * 각 문제의 이름, 난이도, 해결 여부(예: '해결 완료' 뱃지)를 표시한다.
* **문제 시작:**
    * '문제 시작' 버튼을 클릭하면 백엔드 서버에 사용자 ID와 함께 Docker 컨테이너 생성을 요청한다.
    * 서버는 요청 사용자만을 위한 새로운 컨테이너를 생성하고, 사용자에게 고유한 접속 정보(IP, 포트 등)를 반환한다.
    * 리소스 관리: 컨테이너는 일정 시간(예: 30분) 활동이 없으면 자동으로 종료되도록 설정하여 서버 자원을 효율적으로 관리한다.

* **정답 제출:**
    * 사용자가 Flag를 입력할 수 있는 입력 필드를 제공한다.
    * '제출' 버튼을 클릭하면 입력된 Flag 값을 백엔드에 전송한다.
* **결과 검증:**
    * 서버는 전송받은 Flag가 올바른지 검증한다.
    * 정답일 경우 '해결 완료' 메시지와 함께 경험치, 아이템 등을 지급한다.
    * 오답일 경우 '다시 시도하세요' 메시지를 반환한다.

---

#### 4. DB 모델링

* **`problems` (문제 정보) 테이블**
    | 필드명 | 데이터 타입 | 설명 |
    | :--- | :--- | :--- |
    | `id` | `INT` | 문제 고유 번호 (Primary Key) |
    | `title` | `VARCHAR` | 문제 제목 (예: "로그인 우회하기") |
    | `description` | `TEXT` | 문제 설명 |
    | `docker_image`| `VARCHAR`| Docker 이미지 이름 |
    | `flag` | `VARCHAR` | 문제의 정답 Flag |
    | `difficulty` | `INT` | 난이도 (1-5) |

* **`user_solves` (사용자 해결 기록) 테이블**
    | 필드명 | 데이터 타입 | 설명 |
    | :--- | :--- | :--- |
    | `id` | `INT` | 고유 번호 (Primary Key) |
    | `user_id` | `INT` | 사용자 ID (Foreign Key) |
    | `problem_id` | `INT` | 문제 ID (Foreign Key) |
    | `is_solved` | `BOOLEAN` | 해결 여부 (`TRUE`/`FALSE`) |
    | `solved_at` | `TIMESTAMP` | 문제 해결 시간 |

#### 5. API 설계

* `GET /api/wargames`: 문제 목록을 가져온다.
* `POST /api/wargames/:problem_id/start`: 특정 문제의 컨테이너를 실행하고 접속 정보를 반환한다.
* `POST /api/wargames/:problem_id/submit`: Flag를 제출하고 정답 여부를 검증한다.
